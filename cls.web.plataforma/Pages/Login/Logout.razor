@page "/logout"
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@using Microsoft.AspNetCore.Components.Authorization;
@using System.Security.Claims
@using cls.web.plataforma.Constants
@using cls.web.plataforma.Data.Interface
@using cls.web.plataforma.Data.Service
@using cls.web.plataforma.Model;

@inject NavigationManager _navigation;
@inject ISessionContext _session;

<PageTitle>Logout</PageTitle>

<div class="card text-center">
    <div class="card-header">
        Logout
    </div>
</div>

@code {

    private string spinner = string.Empty;

    protected override async Task OnInitializedAsync()
    {
        spinner = ClassesHtml.SPINNER_BORDER_SM;
        await _session.Clear();
        _navigation.NavigateTo("/login");
    }
}
